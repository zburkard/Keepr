import{_ as I,b as w,d,P as i,v as B,i as r,A as S,s as b,c as o,e as y,a as t,n as A,w as g,t as l,x as P,F as j,f as C,y as k,l as u,o as a,h as N,u as z,z as D,p as F,j as M}from"./index.0d2c85d0.js";const R={setup(){const s=z(),_=D();async function p(){try{await k.getVaultById(s.params.id)}catch{i.error("Private Vault ID"),_.push({name:"Home"})}}async function e(){try{await k.getKeepsByVaultId(s.params.id)}catch(c){i.error(c)}}return w(()=>{p(),e()}),{vault:d(()=>r.activeVault),keep:d(()=>r.profilesKeeps),account:d(()=>r.account),async removeKeep(){try{await i.confirm("Unvault this keep?")&&await B.removeKeep(r.profilesKeeps.vaultKeepId,r.profilesKeeps.id)}catch(c){i.error(c)}}}},components:{ActiveKeepModal:S,ActiveVaultKeep:b}},E=s=>(F("data-v-3a3fd08a"),s=s(),M(),s),H={class:"component"},L={key:0,class:"container"},U={class:"row justify-content-center"},q={key:0,class:"lock"},G=E(()=>t("i",{class:"mdi mdi-lock fs-2",title:"Private Vault"},null,-1)),J=[G],O={class:"text-center"},Q={key:1},T={key:2},W={class:"d-flex justify-content-center pt-3"},X={class:"bg-grey py-2 px-3 rounded-pill"},Y={class:"d-flex justify-content-center pt-3"},Z={class:"bg-light py-2 px-3 rounded-3"},$={class:"pb-4 pt-4"},ee={class:"masonry"},te={class:"d-flex align-items-center"};function ae(s,_,p,e,c,se){var v,m,h,f;const x=u("ActiveVaultKeep"),K=u("router-link"),V=u("KeepCard");return a(),o("div",H,[y(x),e.vault?(a(),o("div",L,[t("div",U,[t("div",{class:"img-vfx rounded-2 mt-5 text-white fw-bold d-flex align-items-center justify-content-end flex-column",style:A({backgroundImage:`url(${(v=e.vault)==null?void 0:v.img})`})},[e.vault.isPrivate?(a(),o("div",q,J)):g("",!0),t("h1",O,l((m=e.vault)==null?void 0:m.name),1),e.account.id==e.vault.creatorId?(a(),o("div",Q,[y(K,{to:{name:"Account",params:{id:(h=e.vault)==null?void 0:h.creator.id}},class:"text-white text-center"},{default:P(()=>{var n;return[t("p",null,"by "+l((n=e.vault)==null?void 0:n.creator.name),1)]}),_:1},8,["to"])])):(a(),o("div",T))],4),t("div",null,[t("div",W,[t("div",X,l(e.keep.length)+" keeps",1)]),t("div",Y,[t("div",Z,l((f=e.vault)==null?void 0:f.description),1)])])]),t("div",$,[t("div",ee,[(a(!0),o(j,null,C(e.keep,n=>(a(),o("div",te,[(a(),N(V,{keep:n,key:n.id},null,8,["keep"]))]))),256))])])])):g("",!0)])}const ce=I(R,[["render",ae],["__scopeId","data-v-3a3fd08a"]]);export{ce as default};
